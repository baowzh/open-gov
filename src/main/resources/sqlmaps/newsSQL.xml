<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.asiainfo.portal.modules.news.model.News">
	<resultMap id="newsMap" type="com.asiainfo.portal.modules.news.model.News">
		<result column="id" property="id"  />
		<result column="catid" property="catId"  />
		<result column="typeid" property="typeId"  />
		<result column="title" property="title"  />
		<result column="keyword" property="keyword"  />
		<result column="description" property="description"  />
		<result column="url" property="url"  />
		<result column="thumb" property="thumb" />
		<result column="username" property="username" />
		<result column="inputtime" property="inputtime"  />
		<result column="updatetime" property="updatetime"  />
		<result column="depart_id" property="departId"  />

	</resultMap>

	<insert id="insert"
		parameterType="com.asiainfo.portal.modules.news.model.News" keyProperty="id" useGeneratedKeys="true">

		Insert into
		td_f_news
		(
          catid ,
          typeid,
          title ,
          thumb ,
          keywords,
          description,
          url,
          username,
          inputtime,
          updatetime,
          depart_id
		)
		values (
          #{catId,jdbcType=INTEGER} ,
          #{typeId,jdbcType=INTEGER},
          #{title,jdbcType=VARCHAR} ,
          #{thumb,jdbcType=VARCHAR} ,
          #{keywords,jdbcType=VARCHAR},
          #{description,jdbcType=VARCHAR},
          #{url,jdbcType=VARCHAR},
          #{username,jdbcType=VARCHAR},
          #{inputtime,jdbcType=DATE},
          #{updatetime,jdbcType=DATE},
          #{departId,jdbcType=VARCHAR}
		
		)

	</insert>
	<update id="update" parameterType="com.asiainfo.portal.modules.news.model.News">
	 updae td_f_news 
	 set id=#{id}
	   <if test="catid!=null">
	    ,catid=#{catid}
	   </if>
	   <if test="typeid!=null">
	    ,typeid=#{typeid}
	   </if>
	   <if test="title!=null and title!=''">
	    ,title=#{title}
	   </if>
	   <if test="keywords!=null and keywords!=''">
	    ,keywords=#{keywords}
	   </if>
	   
	   <if test="description!=null and description!=''">
	    ,description=#{description}
	   </if>
	    <if test="updatetime!=null ">
	    ,updatetime=#{updatetime}
	   </if>
	  where id=#{id}
	</update>
	<delete id="del"  parameterType="java.lang.Integer">
	 delete from td_f_news where id=#{id}
	</delete>
	<select id="paging" parameterType="com.asiainfo.portal.form.NewsPagingForm" resultMap="newsMap">
	  select * from td_f_news 
	  <where>
	   <if test="title!=null and title!=''">
	    title=#{title}
	   </if>
	   <if test="keyword!=null and keyword!=''">
	    keyword=#{keyword}
	   </if>
	   <if test="description!=null and description!=''">
	    description=#{description}
	   </if>
	  </where>
	</select>

</mapper>